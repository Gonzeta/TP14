<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Cifrado Misterioso</title>
<style>
body {
  background: #0d0d0d;
  color: #00ffcc;
  font-family: 'Courier New', monospace;
  text-align: center;
  padding: 40px;
}
input, button {
  margin: 8px;
  padding: 6px;
  border-radius: 4px;
  border: none;
  font-size: 16px;
}
button {
  background: #00ffcc;
  color: #000;
  cursor: pointer;
  transition: 0.3s;
}
button:hover {
  background: #00cca3;
}
</style>
</head>
<body>

<h1>üîê Cifrado del Escape Room</h1>

<p>Escrib√≠ un mensaje o una clave secreta:</p>
<input type="text" id="texto" placeholder="Texto">
<input type="text" id="clave" placeholder="Clave">
<br>
<button onclick="cifrarTexto()">Cifrar</button>
<button onclick="descifrarTexto()">Descifrar</button>

<p id="resultado"></p>

<script>
function cifrar(texto, clave) {
  let resultado = "";
  for (let i = 0; i < texto.length; i++) {
    let charCode = texto.charCodeAt(i) + clave.charCodeAt(i % clave.length);
    resultado += String.fromCharCode(charCode % 65535);
  }
  return resultado;
}

function descifrar(texto, clave) {
  let resultado = "";
  for (let i = 0; i < texto.length; i++) {
    let charCode = texto.charCodeAt(i) - clave.charCodeAt(i % clave.length);
    if (charCode < 0) charCode += 65535;
    resultado += String.fromCharCode(charCode);
  }
  return resultado;
}

function cifrarTexto() {
  const texto = document.getElementById("texto").value;
  const clave = document.getElementById("clave").value;
  const cifrado = cifrar(texto, clave);
  document.getElementById("resultado").innerText = "üîí Texto cifrado: " + cifrado;
}

function descifrarTexto() {
  const texto = document.getElementById("texto").value;
  const clave = document.getElementById("clave").value;
  const descifrado = descifrar(texto, clave);
  document.getElementById("resultado").innerText = "üîì Texto descifrado: " + descifrado;
}
</script>

</body>
</html>
